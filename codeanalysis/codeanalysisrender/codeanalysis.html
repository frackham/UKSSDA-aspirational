<!DOCTYPE html>
<html>
<head>
 <link rel="stylesheet" type="text/css" href="codeanalysis.css" />
</head>
<body>
 <div id="Bugwrapper">
 <br/>
  <h2>Bug</h2>
  <p class="Bug source">codeanalysis.py</p>
  <p class="Bug">--# BUG: [i] In CSV record, items closed always = 0.</p>
  <p class="Bug">--#BUG: Does not pick up 'TODO' items where square brackets immediately follow colon (e.g. TODO:(e) using [] ).</p>
  <p class="Bug">--print (" BUG Items:            " + str(bugCount))</p>
  <p class="Bug">--#BUG: [c] Resolve pypdf import issues OR find alternative library.</p>
 </div>
 <div id="Criticalwrapper">
 <br/>
  <h2>Critical</h2>
  <p class="Critical source">edu_objects.py</p>
  <p class="Critical">--#TODO: [c] A DatasetSource can only inherit from EITHER inheritSource OR fileSource. Filesource should take priority. When either is changed, entity should be verified.</p>
  <p class="Critical">--#TODO: [c] Move School_Test to tests folder</p>
  <p class="Critical source">external_sources.py</p>
  <p class="Critical">--#TODO: [c] Use edubase scrape functions as start point.</p>
  <p class="Critical source">mailhandler.py</p>
  <p class="Critical">--#TODO: [c] Amend code here [refactor].</p>
  <p class="Critical source">main.py</p>
  <p class="Critical">--#TODO: [c] Here, get user access rights (currently adding admin rights to all logged in users) from a group in datastore. Most likely move whole function to auth library.</p>
  <p class="Critical source">othertodo.py</p>
  <p class="Critical">--#TODO: [c] Move all nav blocks to auth by user.</p>
  <p class="Critical source">system.py</p>
  <p class="Critical">--#TODO: [c] Add owner, referenceURI, prerequisites[], (more next lines--&gt;)</p>
  <p class="Critical source">codeanalysis.py</p>
  <p class="Critical">--#FIXED: [c]Currently appending CSV row record to existing entry. Does it need a manual newline character adding? THINK FIXED. BINARY MODE!</p>
  <p class="Critical">--#BUG: [c] Resolve pypdf import issues OR find alternative library.</p>
  <p class="Critical source">predeploy.py</p>
  <p class="Critical">--#TODO: [c] Load test strut and check unit tests.</p>
  <p class="Critical">--#TODO: [c] If tests fail, do not deploy (if you really want to deploy with a failed test (bad, bad practice), can use the GAE Launcher instead.</p>
  <p class="Critical">--#TODO: [c] Change to deploy, and add line to deploy using dataforschools admin email account.</p>
 </div>
 <div id="Essentialwrapper">
 <br/>
  <h2>Essential</h2>
  <p class="Essential source">edu_objects.py</p>
  <p class="Essential">--#TODO: [e] Use...-- https://developers.google.com/appengine/docs/python/datastore/typesandpropertyclasses</p>
  <p class="Essential">--dateOfReference = db.DateTimeProperty(auto_now_add=True)# Indicates the date that the dataset refers to. This is what shows on the timeline! #TODO: [e] Default dataset dateofreference is now(). Using auto_now_add=True for the moment.</p>
  <p class="Essential">--status = db.StringProperty(default='Placeholder') #TODO: [e] Manage lifecycle of dataset from non-existent (impossible by definition), to placeholder (default), to minimal, to incomplete, to complete.</p>
  <p class="Essential">--#TODO: [e] add fields: assessmentType [estimates, targets, results, current-working, current-possible(?).</p>
  <p class="Essential">--log = db.StringProperty(default='') #TODO: [e] Does History/Log need to be an additional object (would be under OO paradigm) , or is it ok as a long string object that will be handled separately later? Probably would use this on other objects (e.g. School), so maybe...</p>
  <p class="Essential">--domainArea = db.StringProperty(default='Not set')  #TODO: [e] DatasetSource.domainareas are Assessment, Behaviour, Attendance, Staff, Premises etc.</p>
  <p class="Essential">--sourceType = db.StringProperty(default='Not set')  #TODO: [e] sourcetype is either "new" (new dataset source file...stored as string object in this object?), "inherit", "peryear (where we'll need to define these per year (targetYear != All).</p>
  <p class="Essential">--inheritSource = db.ReferenceProperty(Dataset, verbose_name="Inheriting-From Dataset", collection_name='sourcesThatInherit')  #TODO: [e] Inherit dataset. Is this nullable, or should it be the parent dataset as default? See https://developers.google.com/appengine/articles/modeling</p>
  <p class="Essential">--targetYear = db.DateTimeProperty() #TODO: [e] target</p>
  <p class="Essential">--sourceYear = db.DateTimeProperty() #TODO: [e] Usually empty, but exists so that you can inherit Y7 data at start of Y8.</p>
  <p class="Essential">--#TODO: [e] headteacher (staff or string), postcode, address (long string for now), urn, schooltype, ofstedinspections{date, judgement pairs), nextearliestinspection.</p>
  <p class="Essential">--urn = db.IntegerProperty(default=0) #TODO: [e] School URN may need to be different number type (Int long enough?).</p>
  <p class="Essential">--#TODO: [e] Exclude libraries from tests.</p>
  <p class="Essential">--#TODO: [e] add attendance, classes (arr)</p>
  <p class="Essential">--#TODO: [e] add summary assessment values for proof.</p>
  <p class="Essential">--#TODO: [e] add classes (arr).</p>
  <p class="Essential source">fragmentrequester.py</p>
  <p class="Essential">--#TODO: [e] The whole of this if branch needs moving out into a separate object handler - ideally, we should be able to get the type of handler required from the handlerName (or passed as other argument).</p>
  <p class="Essential">--#TODO: [e] Add test of object *returned by handler function*, in order to return it using the right methods of self.response().</p>
  <p class="Essential">--#TODO: [e] Only works if returning a string.</p>
  <p class="Essential source">index.html</p>
  <p class="Essential">--&lt;h1&gt;{{ app_title }}&lt;/h1&gt; &lt;!-- #TODO: [e] add floating, so top menu is horizontally aligned. --&gt;</p>
  <p class="Essential">--&lt;div class="span3" id="mainnavwrapper"&gt; &lt;!-- #TODO: [e] add padding-left *before* menu, so it has some breathing room --&gt;</p>
  <p class="Essential source">main.py</p>
  <p class="Essential">--relimport_demo() #TODO: [e] Use this pattern to refactor project.</p>
  <p class="Essential">--bDoAdmin = False #HACK: [e] Separate variable for each nav group? No thanks, [refactor] on move to separate auth layer.</p>
  <p class="Essential">--#TODO: [e] Move these to separate python file (mainnavigation.py). Pass user object, and get string with whole nav menu.</p>
  <p class="Essential">--&lt;li class=\"primarynav\" id=\"admin-datasetexplorer\"&gt;  &lt;a href=\"#\"&gt;Dataset Explorer&lt;/a&gt;&lt;/li&gt; &lt;!-- #TODO: [e] Visual view of datasets. Add datasets from here (including descriptive only datasets). Consider using http://timeline.verite.co/  --&gt;</p>
  <p class="Essential source">othertodo.py</p>
  <p class="Essential">--#TODO: [e] Move rendering of charts and analysis to separate Python classes and file. NOT edu objects!</p>
  <p class="Essential source">system.py</p>
  <p class="Essential">--#TODO: [e] Check status of unit test strut here?</p>
  <p class="Essential">--#TODO: [e] On process dataset, update calculationVersion of the Dataset. If calculationVersion != edsystem.version, then recalc dataset?</p>
  <p class="Essential">--self.passedUnitTests = False #TODO: [e] Get most recent unit test outcomes (from dev_unittestoutcomes() ).</p>
  <p class="Essential">--#TODO: [e] Prerequisite metrics.</p>
  <p class="Essential source">codeanalysis.py</p>
  <p class="Essential">--# TODO: [e] Write file size metrics.</p>
  <p class="Essential">--# TODO: [e] Write file created metrics.</p>
  <p class="Essential">--# TODO: [e] Write file updated metrics.</p>
  <p class="Essential">--# TODO: [e] match unit test files to class files, and count tests. also get functions/properties without tests.</p>
  <p class="Essential">--# TODO: [e] objects...is it easiest to import each file, then use dir() on the module? see p. 99)</p>
  <p class="Essential">--#TODO: [e]Write to PDF.</p>
  <p class="Essential">--#input() #HACK: [e]Added so that results can be read when run from console. Not needed in interactive mode (or if we've run this solely to update the code analysis record).</p>
  <p class="Essential source">ukssda.css</p>
  <p class="Essential">--#globalnav li  { font-size:1.2em; float:left; list-style-type:none; padding-left:15px;} /* TODO: [e] [mobile] On mobile layout, no 'float:left;' */</p>
  <p class="Essential source">gendata.py</p>
  <p class="Essential">--#TODO: [e]Replace these strings with values loaded from textfiles on module start (system object? onload of admin console, load these to system.object).</p>
  <p class="Essential">--#TODO: [e] Currently returns first item.</p>
  <p class="Essential source">precommit.py</p>
  <p class="Essential">--#TODO: [e] Run codeanalysis.</p>
  <p class="Essential source">predeploy.py</p>
  <p class="Essential">--#TODO: [e] Run code analysis.</p>
  <p class="Essential">--#TODO: [e] Do not deploy if critical items exist (once past initial development).</p>
 </div>
 <div id="Desirablewrapper">
 <br/>
  <h2>Desirable</h2>
  <p class="Desirable source">404.html</p>
  <p class="Desirable">--&lt;!-- #TODO: [d] Update 404 --&gt;</p>
  <p class="Desirable source">edu_objects.py</p>
  <p class="Desirable">--#TODO: [d] Look at whether properties should be ProperCase instead of camelCase, so that calls are like Dataset.Name() instead of Dataset.name().</p>
  <p class="Desirable">--tags = db.StringProperty(default='') #TODO: [d] Tags would be single line comma separated. Does that make it parseable or not? Ber in mind that few datasets though, mainly internally used.</p>
  <p class="Desirable">--#fileSource = file #TODO: [d] Ideally, keep data with the dataset. Thus export of dataset = 'for each dataset source, save to file'. See https://developers.google.com/appengine/docs/python/blobstore/blobinfoclass</p>
  <p class="Desirable">--#TODO: [d] add proper assessment.</p>
  <p class="Desirable">--#TODO: [d] add other attendance values.</p>
  <p class="Desirable">--ownerUserID = db.StringProperty(default='') #TODO: [d] Check this one. See GApps Reference.</p>
  <p class="Desirable source">external_sources.py</p>
  <p class="Desirable">--#TODO: [d] See http://www.ehow.co.uk/how_8521125_use-html5lib-python.html</p>
  <p class="Desirable source">fragmentrequester.py</p>
  <p class="Desirable">--#p.drawImage('dog.jpg', 150, 400) #TODO: [d] This is how you return an image dynamically. See reportlab documentation.</p>
  <p class="Desirable source">index.html</p>
  <p class="Desirable">--&lt;link rel="apple-touch-icon-precomposed" href="apple-touch-icon-144x144-precomposed.png"&gt; &lt;!-- #TODO: [d] Icon for iOS devices. Equivalent to favicon on mobile, kinda. See http://mathiasbynens.be/notes/touch-icons  --&gt;</p>
  <p class="Desirable">--&lt;li id="global-login_logout"&gt;&lt;a href="#"&gt; {{ url_linktext }} &lt;/a&gt;&lt;/li&gt; &lt;!-- #TODO: [d] &lt;i class="icon-info-sign"&gt;&lt;/i&gt; Icon for linktext should be dependent on action required --&gt;</p>
  <p class="Desirable">--&lt;div id="developerlinks"&gt; &lt;!-- #TODO: [d] Hide in live mode --&gt;</p>
  <p class="Desirable">--&lt;li&gt;&lt;a href="https://appengine.google.com/" target="_blank"&gt;App Engine Login (MUST USE CORRECT LOGIN EMAIL!)&lt;/a&gt;&lt;/li&gt; &lt;!-- #HACK: [d] Remove the reminder in live mode (more like remove all?). --&gt;</p>
  <p class="Desirable source">othertodo.py</p>
  <p class="Desirable">--#TODO: [d] Move auth to separate library, including get user code. Make GAE agnostic, with GAE interface to user in DAL_User library further included in DAL.</p>
  <p class="Desirable">--#TODO: [d] Explore http://demos.kendoui.com/dataviz/scatter-charts/scatter-line.html as alternative to jqPlot.</p>
  <p class="Desirable">--#TODO: [d] Explore processing.js as alternative to jqPlot.</p>
  <p class="Desirable">--#TODO: [d] Add distribute to email (requires email property on staff).</p>
  <p class="Desirable">--#TODO: [d] Add single PDF output - where items for same person are in order, with either (a) footer identifying who it is for, or (b) coversheet with list of pages and who it is for.</p>
  <p class="Desirable">--#TODO: [d] Get tutor group members (iterate through staff and students). Probably one to cache at System or collection level?</p>
  <p class="Desirable source">system.py</p>
  <p class="Desirable">--#TODO [d] Add singleton behaviour (not really an issue if never redefined...).</p>
  <p class="Desirable">--self.version = "alpha" #TODO: [d] Get version number here.</p>
  <p class="Desirable source">codeanalysis.py</p>
  <p class="Desirable">--# TODO: [d] see page 8 of python data vis.</p>
  <p class="Desirable">--# TODO: [d] Write class count metrics.</p>
  <p class="Desirable">--# TODO: [d] Write function count metrics.</p>
  <p class="Desirable">--# TODO: [d] Write class list of file.</p>
  <p class="Desirable">--# TODO: [d] Write function list of file.</p>
  <p class="Desirable">--# TODO: [d] Check for 'conflicted copy' in title of file, and write as a system level bug with list of conflicted versions. [i] Get a diff of changes.</p>
  <p class="Desirable">--# TODO: [d] Include results of unit tests (perhaps last unit test run outputs a text file and this reads that, rather than run unit test suite?).</p>
  <p class="Desirable">--#(22) No importance level: [blank] #TODO: [d] In list, this goes above idealistic. May need regex for [&lt;any characters&gt;] pattern.</p>
  <p class="Desirable">--#(24) Other tagging: [other] #TODO: [d] append tag to list of additional tags. Means can get a list of specific todo related to (unittests), for example.</p>
  <p class="Desirable">--#TODO: [d] Display other tag list.</p>
  <p class="Desirable">--#if line.strip()[0:2] == "..": #TODO: [d] change to option of true/false of showing only file and not path breaks this.</p>
  <p class="Desirable">--#TODO: [d]Check against http://stackoverflow.com/questions/2666863/list-to-csv-in-python</p>
  <p class="Desirable">--#TODO: [d] Remove all these debug strings.</p>
  <p class="Desirable">--# TODO: [d] should build this function into a unit test suite. every time we do a full check, we also log code review.</p>
  <p class="Desirable source">predeploy.py</p>
  <p class="Desirable">--#TODO: [d] Make local backup.</p>
 </div>
 <div id="Hackwrapper">
 <br/>
  <h2>Hack</h2>
  <p class="Hack source">external_sources.py</p>
  <p class="Hack">--#HACK: If no URN, uses GCS. Remove.</p>
  <p class="Hack source">fragmentrequester.py</p>
  <p class="Hack">--uriByName = category + "/" + subcategory #HACK: [i] [refactor] handlerbyname function should identify URI, and return that as a string here to be redirected to.</p>
  <p class="Hack">--#HACK: use first 5 chars to determine response...</p>
  <p class="Hack source">index.html</p>
  <p class="Hack">--&lt;li&gt;&lt;a href="https://appengine.google.com/" target="_blank"&gt;App Engine Login (MUST USE CORRECT LOGIN EMAIL!)&lt;/a&gt;&lt;/li&gt; &lt;!-- #HACK: [d] Remove the reminder in live mode (more like remove all?). --&gt;</p>
  <p class="Hack source">main.py</p>
  <p class="Hack">--bDoAdmin = False #HACK: [e] Separate variable for each nav group? No thanks, [refactor] on move to separate auth layer.</p>
  <p class="Hack source">codeanalysis.py</p>
  <p class="Hack">--#HACK: [i] Note the open() calls. This is probably quite inefficient, but shouldn't be an issue until/unless the project gets very big.</p>
  <p class="Hack">--PROJECTROOTPATH = rootpath #HACK: lazy.</p>
  <p class="Hack">--nLoCCode = 0 #HACK: Will include docstrings in lines of code.</p>
  <p class="Hack">--elif tagCheck[0:1] == "[" : #HACK: [i]May not work with strings such as '(tagname)textimmediatelyfollowing'.</p>
  <p class="Hack">--todoList.append("  " + os.path.basename(item[0])) #HACK: [i] Not a good way to get the class filename from the stored path.</p>
  <p class="Hack">--bugList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path [notrack].</p>
  <p class="Hack">--hackList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path [notrack].</p>
  <p class="Hack">--criticalList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path [notrack].</p>
  <p class="Hack">--essentialList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path [notrack].</p>
  <p class="Hack">--desirableList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path [notrack].</p>
  <p class="Hack">--idealisticList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path [notrack].</p>
  <p class="Hack">--#HACK: [i] Quick and dirty. If bDoAggregate, then print out the details, else you're writing a record to the log. This whole module should be refactored as a class, but pretty low priority.</p>
  <p class="Hack">--print (" HACK Items:           " + str(hackCount))</p>
  <p class="Hack">--#HACK: [i]'entry' values mapping to columns is not consecutive. e.g. hackCount = no, LocCode != no + 1.</p>
  <p class="Hack">--#HACK: [i] This works, but it means that we can't see where the TODO came from.</p>
  <p class="Hack">--todoList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path.</p>
  <p class="Hack">--bugList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path. [notrack]</p>
  <p class="Hack">--hackList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path. [notrack]</p>
  <p class="Hack">--criticalList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path. [notrack]</p>
  <p class="Hack">--essentialList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path. [notrack]</p>
  <p class="Hack">--desirableList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path. [notrack]</p>
  <p class="Hack">--idealisticList.append("  " + os.path.basename(item[0])) #HACK: [i]Not a good way to get the class filename from the stored path. [notrack]</p>
  <p class="Hack">--#input() #HACK: [e]Added so that results can be read when run from console. Not needed in interactive mode (or if we've run this solely to update the code analysis record).</p>
  <p class="Hack source">ukssda.css</p>
  <p class="Hack">--.primarynavicon { color:cyan; } /* #HACK: Not blue or cyan, get html color.... */</p>
  <p class="Hack source">dom.py</p>
  <p class="Hack">--# HACK: allow text nodes as children of the document node</p>
  <p class="Hack source">simpletree.py</p>
  <p class="Hack">--# HACK: We could return ``parent`` but None will stop the algorithm the same way</p>
  <p class="Hack source">precommit.py</p>
  <p class="Hack">--#HACK: [i] Exists because Github for Windows can't execute precommit hooks :/ .</p>
  <p class="Hack source">predeploy.py</p>
  <p class="Hack">--#HACK: [i] Can't commit using Github for Windows (can usin Git itself, though...) , so deploy and commit are separate. Note that all deploys should have a commit (ideally using Git tags with the version number), but not all commits are deployed.</p>
 </div>
</body>
</html>